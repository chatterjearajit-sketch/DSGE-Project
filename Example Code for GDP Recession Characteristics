# === Recession Based on GDP Growth: Two Consecutive Quarters of Negative Growth ===

# We'll interpret output gap (x_t) ≈ GDP growth
gdp_growth_paths = output_paths  # shape: (n_sim, T)

def has_2_consecutive_negative_growth(path):
    for t in range(1, len(path)):
        if path[t] < 0 and path[t-1] < 0:
            return True
    return False

# 1. Compute recession probability across all simulations
recession_by_growth = np.array([has_2_consecutive_negative_growth(path) for path in gdp_growth_paths])
recession_prob_growth = np.mean(recession_by_growth)

# 2. Print result
print("\n--- Recession Based on GDP Growth ---")
print(f"Probability of ≥2 consecutive quarters of negative GDP growth: {recession_prob_growth:.3f}")
